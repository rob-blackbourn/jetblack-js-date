<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@jetblack/date - v0.3.0</title><meta name="description" content="Documentation for @jetblack/date - v0.3.0"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@jetblack/date - v0.3.0</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@jetblack/date - v0.3.0</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#jetblackdate" id="jetblackdate" style="color: inherit; text-decoration: none;">
  <h1>@jetblack/date</h1>
</a>
<p>Timezone-aware date manipulation for JavaScript.</p>
<p>This is work in progress!</p>

<a href="#overview" id="overview" style="color: inherit; text-decoration: none;">
  <h2>Overview</h2>
</a>
<p>This project provides utilities for working with dates and timezones.</p>
<p>The JavaScript built-in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>
object is a simple offset from an epoch. It provides functions
to resolve this into date components (days, months, years, etc.) in both the local
timezone of the browser, and UTC. A browser currently has no access to the hosts
timezone database.</p>
<p>This library provides two things:</p>
<ul>
<li>Convenience methods for manipulating dates in both UTC and the local timezone.</li>
<li>The ability to use IANA timezones (e.g. America/Chicago).</li>
</ul>
<p>The
<a href="https://www.iana.org/time-zones">IANA timezone database</a>
has been made available in JSON format by
a second project <a href="https://github.com/rob-blackbourn/jetblack-tzdata">jetblack-tzdata</a>.
This allows the timezone data to be accessed statically, or dynamically through a HTTP GET (e.g. with <code>fetch</code>).</p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>
<p>The package can be installed from npmjs.</p>
<pre><code class="language-bash"><span class="hl-0">npm install --save @jetblack/date</span>
</code></pre>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<p>A range of dates could be calculated using UTC dates in the following manner:</p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">dayRange</span><span class="hl-0">, </span><span class="hl-2">tzUTC</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@jetblack/date&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">start</span><span class="hl-0"> = </span><span class="hl-2">tzUTC</span><span class="hl-0">.</span><span class="hl-6">makeDate</span><span class="hl-0">(</span><span class="hl-7">2000</span><span class="hl-0">, </span><span class="hl-7">1</span><span class="hl-0">, </span><span class="hl-7">1</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">end</span><span class="hl-0"> = </span><span class="hl-2">tzUtc</span><span class="hl-0">.</span><span class="hl-6">makeDate</span><span class="hl-0">(</span><span class="hl-7">2000</span><span class="hl-0">, </span><span class="hl-7">12</span><span class="hl-0">, </span><span class="hl-7">31</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">step</span><span class="hl-0"> = </span><span class="hl-7">1</span><span class="hl-0"> </span><span class="hl-8">// one day</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">everyDayInTheYear</span><span class="hl-0"> = </span><span class="hl-6">dayRange</span><span class="hl-0">(</span><span class="hl-2">start</span><span class="hl-0">, </span><span class="hl-2">end</span><span class="hl-0">, </span><span class="hl-2">step</span><span class="hl-0">, </span><span class="hl-2">tzUtc</span><span class="hl-0">)</span><br/><span class="hl-0">  .</span><span class="hl-6">map</span><span class="hl-0">(</span><span class="hl-2">d</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">d</span><span class="hl-0">.</span><span class="hl-6">toISOString</span><span class="hl-0">())</span><br/><span class="hl-8">// returns [ &quot;2000-01-01T00:00:00Z&quot;, &quot;2000-01-02T00:00:00Z&quot;, ..., &quot;2000-12-31T00:00:00Z&quot; ]</span>
</code></pre>

<a href="#iana-timezones" id="iana-timezones" style="color: inherit; text-decoration: none;">
  <h3>IANA Timezones</h3>
</a>
<p>If the required timezones are known in advance they can be installed directly.
The IANA timezone database has been converted to JSON format and bundled into
an npm package. The following installs the package</p>
<pre><code class="language-bash"><span class="hl-0">npm install --save @jetblack/tzdata</span>
</code></pre>
<p>Depending on the environment plugins you may be able to import the JSON directly.</p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">IANATimezone</span><span class="hl-0">, </span><span class="hl-2">objectToTimezoneDelta</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;../src&#39;</span><br/><span class="hl-1">import</span><span class="hl-0"> </span><span class="hl-2">BRUSSELS_TZDATA</span><span class="hl-0"> </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@jetblack/tzdata/dist/latest/Europe/Brussels.json&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">tzBrussels</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">IANATimezone</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">&#39;Europe/Brussels&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">BRUSSELS_TZDATA</span><span class="hl-0">.</span><span class="hl-6">map</span><span class="hl-0">(</span><span class="hl-2">objectToTimezoneDelta</span><span class="hl-0">)</span><br/><span class="hl-0">)</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">newYearsDay</span><span class="hl-0"> = </span><span class="hl-2">tzBrussels</span><span class="hl-0">.</span><span class="hl-6">makeDate</span><span class="hl-0">(</span><span class="hl-7">2000</span><span class="hl-0">, </span><span class="hl-7">1</span><span class="hl-0">, </span><span class="hl-7">1</span><span class="hl-0">).</span><span class="hl-6">toISOString</span><span class="hl-0">()</span><br/><span class="hl-8">// returns &quot;2000-01-01T01:00:00Z&quot;</span>
</code></pre>
<p>When the required timezones are not known at build time they may be accessed dynamically.</p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">IANATimezone</span><span class="hl-0">, </span><span class="hl-2">tzDataReviver</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;../src&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">timezoneName</span><span class="hl-0"> = </span><span class="hl-3">&#39;Europe/Brussels&#39;</span><br/><span class="hl-6">fetch</span><span class="hl-0">(</span><span class="hl-3">`https://cdn.jsdelivr.net/npm/@jetblack/tzdata/dist/latest/</span><span class="hl-4">${</span><span class="hl-2">timezoneName</span><span class="hl-4">}</span><span class="hl-3">.json`</span><span class="hl-0">)</span><br/><span class="hl-0">  .</span><span class="hl-6">then</span><span class="hl-0">(</span><span class="hl-2">response</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">response</span><span class="hl-0">.</span><span class="hl-6">text</span><span class="hl-0">())</span><br/><span class="hl-0">  .</span><span class="hl-6">then</span><span class="hl-0">(</span><span class="hl-2">zoneDataText</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">zoneData</span><span class="hl-0"> = </span><span class="hl-9">JSON</span><span class="hl-0">.</span><span class="hl-6">parse</span><span class="hl-0">(</span><span class="hl-2">zoneDataText</span><span class="hl-0">, </span><span class="hl-2">tzDataReviver</span><span class="hl-0">)</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">tzBrussels</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">IANATimezone</span><span class="hl-0">(</span><span class="hl-2">timeZoneName</span><span class="hl-0">, </span><span class="hl-2">zoneData</span><span class="hl-0">)</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">newYearsDay</span><span class="hl-0"> = </span><span class="hl-2">tzBrussels</span><span class="hl-0">.</span><span class="hl-6">makeDate</span><span class="hl-0">(</span><span class="hl-7">2000</span><span class="hl-0">, </span><span class="hl-7">1</span><span class="hl-0">, </span><span class="hl-7">1</span><span class="hl-0">)</span><br/><span class="hl-0">    </span><span class="hl-8">// returns &quot;2000-01-01T01:00:00Z&quot;</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">  .</span><span class="hl-6">catch</span><span class="hl-0">(</span><span class="hl-2">error</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">error</span><span class="hl-0">(</span><span class="hl-2">error</span><span class="hl-0">))</span><br/><span class="hl-0">}</span>
</code></pre>
<p>The above example demonstrates how the <a href="https://www.jsdelivr.com/">jsdelivr</a> content delivery
network can be leveraged to serve the timezone data, through it&#39;s ability to access individual
files.</p>
<p>The list of all available zones is provided at <code>dist/latest/zones.json</code>.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/Calendar.html" class="tsd-kind-icon">Calendar</a></li><li class="tsd-kind-class"><a href="classes/Duration.html" class="tsd-kind-icon">Duration</a></li><li class="tsd-kind-class"><a href="classes/HolidayCalendar.html" class="tsd-kind-icon">Holiday<wbr/>Calendar</a></li><li class="tsd-kind-class"><a href="classes/IANATimezone.html" class="tsd-kind-icon">IANATimezone</a></li><li class="tsd-kind-class"><a href="classes/Timezone.html" class="tsd-kind-icon">Timezone</a></li><li class="tsd-kind-class"><a href="classes/WeekendCalendar.html" class="tsd-kind-icon">Weekend<wbr/>Calendar</a></li><li class="tsd-kind-interface"><a href="interfaces/TimezoneDelta.html" class="tsd-kind-icon">Timezone<wbr/>Delta</a></li><li class="tsd-kind-variable"><a href="modules.html#calWeekends" class="tsd-kind-icon">cal<wbr/>Weekends</a></li><li class="tsd-kind-variable"><a href="modules.html#tzLocal" class="tsd-kind-icon">tz<wbr/>Local</a></li><li class="tsd-kind-variable"><a href="modules.html#tzUtc" class="tsd-kind-icon">tz<wbr/>Utc</a></li><li class="tsd-kind-function"><a href="modules.html#addBusinessDays" class="tsd-kind-icon">add<wbr/>Business<wbr/>Days</a></li><li class="tsd-kind-function"><a href="modules.html#addDays" class="tsd-kind-icon">add<wbr/>Days</a></li><li class="tsd-kind-function"><a href="modules.html#addDuration" class="tsd-kind-icon">add<wbr/>Duration</a></li><li class="tsd-kind-function"><a href="modules.html#addHours" class="tsd-kind-icon">add<wbr/>Hours</a></li><li class="tsd-kind-function"><a href="modules.html#addMilliseconds" class="tsd-kind-icon">add<wbr/>Milliseconds</a></li><li class="tsd-kind-function"><a href="modules.html#addMinutes" class="tsd-kind-icon">add<wbr/>Minutes</a></li><li class="tsd-kind-function"><a href="modules.html#addMonths" class="tsd-kind-icon">add<wbr/>Months</a></li><li class="tsd-kind-function"><a href="modules.html#addSeconds" class="tsd-kind-icon">add<wbr/>Seconds</a></li><li class="tsd-kind-function"><a href="modules.html#addYears" class="tsd-kind-icon">add<wbr/>Years</a></li><li class="tsd-kind-function"><a href="modules.html#areInSameQuarter" class="tsd-kind-icon">are<wbr/>In<wbr/>Same<wbr/>Quarter</a></li><li class="tsd-kind-function"><a href="modules.html#compareDateAsc" class="tsd-kind-icon">compare<wbr/>Date<wbr/>Asc</a></li><li class="tsd-kind-function"><a href="modules.html#compareDateDesc" class="tsd-kind-icon">compare<wbr/>Date<wbr/>Desc</a></li><li class="tsd-kind-function"><a href="modules.html#dateAfter" class="tsd-kind-icon">date<wbr/>After</a></li><li class="tsd-kind-function"><a href="modules.html#dateBefore" class="tsd-kind-icon">date<wbr/>Before</a></li><li class="tsd-kind-function"><a href="modules.html#dateEquals" class="tsd-kind-icon">date<wbr/>Equals</a></li><li class="tsd-kind-function"><a href="modules.html#dateNotEquals" class="tsd-kind-icon">date<wbr/>Not<wbr/>Equals</a></li><li class="tsd-kind-function"><a href="modules.html#dateOnOrAfter" class="tsd-kind-icon">date<wbr/>On<wbr/>Or<wbr/>After</a></li><li class="tsd-kind-function"><a href="modules.html#dateOnOrBefore" class="tsd-kind-icon">date<wbr/>On<wbr/>Or<wbr/>Before</a></li><li class="tsd-kind-function"><a href="modules.html#dayRange" class="tsd-kind-icon">day<wbr/>Range</a></li><li class="tsd-kind-function"><a href="modules.html#daysInMonth" class="tsd-kind-icon">days<wbr/>In<wbr/>Month</a></li><li class="tsd-kind-function"><a href="modules.html#daysInYear" class="tsd-kind-icon">days<wbr/>In<wbr/>Year</a></li><li class="tsd-kind-function"><a href="modules.html#diffInCalDays" class="tsd-kind-icon">diff<wbr/>In<wbr/>Cal<wbr/>Days</a></li><li class="tsd-kind-function"><a href="modules.html#easter" class="tsd-kind-icon">easter</a></li><li class="tsd-kind-function"><a href="modules.html#endOfDay" class="tsd-kind-icon">end<wbr/>Of<wbr/>Day</a></li><li class="tsd-kind-function"><a href="modules.html#endOfMonth" class="tsd-kind-icon">end<wbr/>Of<wbr/>Month</a></li><li class="tsd-kind-function"><a href="modules.html#endOfToday" class="tsd-kind-icon">end<wbr/>Of<wbr/>Today</a></li><li class="tsd-kind-function"><a href="modules.html#isEndOfMonth" class="tsd-kind-icon">is<wbr/>End<wbr/>Of<wbr/>Month</a></li><li class="tsd-kind-function"><a href="modules.html#isLeapYear" class="tsd-kind-icon">is<wbr/>Leap<wbr/>Year</a></li><li class="tsd-kind-function"><a href="modules.html#maxDate" class="tsd-kind-icon">max<wbr/>Date</a></li><li class="tsd-kind-function"><a href="modules.html#minDate" class="tsd-kind-icon">min<wbr/>Date</a></li><li class="tsd-kind-function"><a href="modules.html#nearestBusinessDay" class="tsd-kind-icon">nearest<wbr/>Business<wbr/>Day</a></li><li class="tsd-kind-function"><a href="modules.html#objectToTimezoneDelta" class="tsd-kind-icon">object<wbr/>To<wbr/>Timezone<wbr/>Delta</a></li><li class="tsd-kind-function"><a href="modules.html#quarterOfYear" class="tsd-kind-icon">quarter<wbr/>Of<wbr/>Year</a></li><li class="tsd-kind-function"><a href="modules.html#startOfDay" class="tsd-kind-icon">start<wbr/>Of<wbr/>Day</a></li><li class="tsd-kind-function"><a href="modules.html#startOfToday" class="tsd-kind-icon">start<wbr/>Of<wbr/>Today</a></li><li class="tsd-kind-function"><a href="modules.html#startOfWeek" class="tsd-kind-icon">start<wbr/>Of<wbr/>Week</a></li><li class="tsd-kind-function"><a href="modules.html#startOfWeekYear" class="tsd-kind-icon">start<wbr/>Of<wbr/>Week<wbr/>Year</a></li><li class="tsd-kind-function"><a href="modules.html#subDuration" class="tsd-kind-icon">sub<wbr/>Duration</a></li><li class="tsd-kind-function"><a href="modules.html#tzDataReviver" class="tsd-kind-icon">tz<wbr/>Data<wbr/>Reviver</a></li><li class="tsd-kind-function"><a href="modules.html#weekOfDate" class="tsd-kind-icon">week<wbr/>Of<wbr/>Date</a></li><li class="tsd-kind-function"><a href="modules.html#weekYear" class="tsd-kind-icon">week<wbr/>Year</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li><li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>